import{r as h,u as g,j as s,C as f,L as N}from"./index-57861515.js";function b(){const[i,m]=h.useState(!1),l=g().state??!1;return s.jsx(f,{children:({cart:c,updateCart:x})=>{const r=c.map(({qnty:t})=>t).reduce((t,a)=>t+a,0);let d=0,u=50;c.map(({qnty:t,cost:a})=>{d+=t*a});let o=Math.floor(d*(18/100)),e=o+u+d;const n=10-e%10;return s.jsx(s.Fragment,{children:c.length===0?s.jsxs("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",padding:4,flexDirection:"column"},children:[s.jsx("p",{style:{fontWeight:400,fontSize:"3rem"},children:"Woah... Such empty...ðŸ½ï¸"}),s.jsx(N,{to:"/wok-of-fame/menu",className:"btn btn-lg btn-outline-danger",children:"Continue Cooking"})]}):s.jsxs("div",{className:"plate container bg-light",children:[s.jsxs("div",{className:"plate-count-div",children:[s.jsx("div",{className:"plate-count",children:r}),s.jsx("div",{children:`Item${r>1?"s":""} on the plate!ðŸ˜‹`})]}),s.jsxs("div",{className:"cart-items-list",children:[c.map((t,a)=>s.jsx(p,{item:t,updateCart:x},a)),s.jsx("hr",{className:"w-100"}),s.jsxs("div",{className:"additional-costs",children:[s.jsxs("div",{children:[s.jsx("div",{className:"subtotal-text",children:"Subtotal"}),s.jsxs("div",{className:"subtotal-cost",children:["â‚¹",d]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"gst-text",children:"GST"}),s.jsxs("div",{className:"gst-cost",children:["â‚¹",o]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"delivery-text",children:"Delivery Charges"}),s.jsxs("div",{className:"delivery-cost",children:["â‚¹",u]})]}),i&&s.jsxs("div",{children:[s.jsx("div",{className:"round-off-text",children:"Tip"}),s.jsxs("div",{className:"round-off-cost",children:[s.jsxs("span",{children:["â‚¹",n]}),s.jsx("button",{onClick:()=>m(!1),children:"âŒ"})]})]})]}),s.jsx("hr",{className:"w-100"}),s.jsxs("div",{className:"cart-total",children:[s.jsx("h1",{className:"text-info",children:"Grand Total"}),s.jsxs("h1",{children:["â‚¹",i?e+n:e]})]}),e%10!==0&&!i&&s.jsxs("div",{className:"round-off",children:[s.jsx("div",{children:"Tip the delivery guy with"}),s.jsx("button",{onClick:()=>{m(!0)},children:`â‚¹${Math.round(10-e%10)}`})]})]}),s.jsx(f,{children:({setTotalPayment:t})=>s.jsx("div",{className:"continue",children:s.jsx(N,{to:"/wok-of-fame/details",state:{reserve:l},className:"continue-button",onClick:()=>t(i?e+n:e),children:"Continue"})})})]})})}})}function p({item:i,updateCart:m}){const{category:v,cost:l,details:c,img:x,name:r,qnty:d,rating:u,veg:o}=i,[e,n]=h.useState(0),[t,a]=h.useState(!0);return h.useEffect(()=>{n(d)},[!1]),h.useEffect(()=>{t?a(!1):m({details:c,rating:u,veg:o,name:r,qnty:e,cost:l,category:v,img:x})},[e]),s.jsxs("div",{className:"cart-item",children:[s.jsxs("div",{className:"cart-item-left",children:[s.jsx("img",{className:"cart-item-img",src:`Images/Menu/${x}.jpg`,style:{width:350,borderTopLeftRadius:8,borderBottomLeftRadius:8},alt:""}),s.jsx("img",{src:`Images/${o?"Veg":"Non"}.png`,width:20,height:20,alt:""}),s.jsx("h3",{className:"item-name",children:r})]}),s.jsxs("div",{className:"cart-item-right",children:[s.jsxs("div",{className:"btn-group float-right mb-3",role:"group",style:{...e===0&&{display:"none"}},children:[s.jsx("button",{className:"btn btn-secondary",onClick:async()=>{n(j=>j-1)},children:"-"}),s.jsx("div",{className:"btn btn-text",children:e}),s.jsx("button",{disabled:e>=10,className:"btn btn-secondary",onClick:async()=>{n(j=>j+1)},children:"+"})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("span",{style:{...e>0&&{display:"none"}},className:"text-secondary h4",children:`â‚¹${l}`}),s.jsx("span",{style:{...e===0&&{display:"none"}},className:"text-success h4",children:`â‚¹${l*e} `}),s.jsxs("span",{style:{...e===0&&{display:"none"}},className:"",children:["(",l," x ",e,")"]})]})]})]})}export{b as default};

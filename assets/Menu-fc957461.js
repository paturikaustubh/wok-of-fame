import{r as n,a as b,u as N,j as e,C,L as v}from"./index-02c273f6.js";import{D as k}from"./Dialog-bc072e23.js";function V(){var x;const{menu:s}=n.useContext(b),i=(x=N())==null?void 0:x.state,[d,u]=n.useState(""),[t,l]=n.useState(!1),[a,g]=n.useState(!1),[r,m]=n.useState(!1);return n.useEffect(()=>{window.scrollTo({top:0})},[]),n.useEffect(()=>{document.addEventListener("keydown",f=>{f.code==="Escape"&&l(!1)})},[]),e.jsx(C,{children:({cart:f,resetCart:w})=>e.jsxs(n.Fragment,{children:[e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"container border mt-3 p-lg-4 p-1 rounded bg-light",children:[e.jsxs("div",{className:"menu-header",children:[e.jsx("span",{className:"display-3 text-danger",style:{fontWeight:500},children:"Menu"}),e.jsx("input",{type:"search",placeholder:"Search items in Menu",className:"form-input",onInput:({target:c})=>u(c.value)}),e.jsxs("span",{className:"btn-group",children:[e.jsx("button",{id:"veg-filter",className:"veg-filter"+(a?" active":""),onClick:()=>{document.getElementById("veg-filter").classList.toggle("active"),g(h=>!h)},children:"Veg 🥬"}),e.jsx("button",{id:"non-veg-filter",className:"non-filter"+(r?" active":""),onClick:()=>{document.getElementById("non-veg-filter").classList.toggle("active"),m(h=>!h)},children:"Non-Veg 🍗"})]})]}),i&&e.jsx("div",{className:"d-flex",children:e.jsx(v,{to:"/wok-of-fame/reserve",className:"btn btn-danger btn-lg",onClick:()=>{w(i.prevCart),window.scrollTo({top:0})},style:{marginLeft:"auto"},children:"Cancel"})}),e.jsx("hr",{}),e.jsx("div",{className:"mt-3",children:s.map((c,h)=>{const{title:y,items:j}=c;return e.jsxs("div",{style:{marginBottom:"3rem"},id:y.toLowerCase().slice(0,-2).split(" ").join("-"),children:[e.jsx("div",{className:"py-1 text-white px-4 rounded menu-item-title",style:{background:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(4px)",position:"sticky",zIndex:1,color:"white",fontWeight:500,...j.length===0&&{display:"none"}},children:y}),j.filter(({name:o})=>o.toLowerCase().includes(d.toLowerCase())).filter(({veg:o})=>a&&!r?o:!a&&r?!o:!0).sort((o,p)=>o.cost-p.cost).sort((o,p)=>p.veg-o.veg).map((o,p)=>e.jsx(L,{element:o,searchValue:d},p))]},h)})})]})}),e.jsxs("div",{style:{position:"sticky",bottom:50,display:"flex",justifyContent:"center",gap:"3em",zIndex:1,marginTop:10,marginBottom:30},children:[e.jsx("button",{className:"rounded-full rounded btn-warning",style:{outline:"none"},id:"section-btn",onClick:()=>l(c=>!c),children:"Sections📃"}),i&&f.length>0&&e.jsx(v,{onClick:()=>window.scrollTo({top:0}),to:f.length>0?"/wok-of-fame/plate":"/wok-of-fame/checkout",className:"rounded-full rounded btn-lg btn btn-success",style:{outline:"none"},state:{reserve:!0},children:"Continue Reservation"})]}),e.jsx(S,{showSection:t,setShowSections:l})]})})}function L({element:s,searchValue:i}){const{cart:d,updateCart:u}=n.useContext(b);let t=d.filter(m=>{var x;if(m&&((x=m.name)!=null&&x.includes(s.name)))return m.qnty??0})[0];t=t?t.qnty:0;const[l,a]=n.useState(t),[g,r]=n.useState(!0);return n.useEffect(()=>{g?r(!1):u({details:s.details,rating:s.rating,veg:s.veg,name:s.name,qnty:l,cost:s.cost,category:s.category,img:s.img})},[l]),e.jsxs("div",{className:"border border-top-0 border-right-0 border-left-0 py-lg-4 py-2 px-lg-3 px-1 d-flex flex-column flex-lg-row",style:{...i.length>0&&s.name!==i&&{display:"none"}},children:[e.jsx("img",{loading:"lazy",src:s.img?`Images/Menu/${s.img}.jpg`:"",alt:s.name,style:{maxWidth:"20em",minWidth:"10%",aspectRatio:"16/9",transitionDuration:"200ms",objectFit:"cover",objectPosition:"center"}}),e.jsxs("div",{className:"d-flex flex-lg-row flex-column align-items-start w-100 px-lg-4 px-2 pt-2",style:{justifyContent:"space-between"},children:[e.jsxs("div",{className:"d-flex flex-column",style:{gap:"0.6em"},children:[e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:6,alignItems:"center"},children:[s.category!=="dessert"&&s.category!=="baverage"&&e.jsx("img",{src:s.veg?"Images/Veg.png":"Images/Non.png",alt:s.veg?"Veg":"Non-Veg",width:20,height:20}),e.jsx("p",{className:"item-name",children:s.name})]}),e.jsxs("div",{className:"d-flex align-items-baseline",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 576 512",style:{fill:"#FAAF00"},children:e.jsx("path",{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"})}),e.jsx("span",{children:s.rating})]}),e.jsx("p",{className:"font-weight-normal text-secondary w-100 item-desc",children:s.details}),e.jsxs("h5",{className:"font-weight-normal item-serves",children:["🧑🏻‍🦱 ",s.serves]})]}),e.jsxs("div",{style:{marginLeft:"auto"},children:[e.jsx("button",{style:{...t>0&&{display:"none"}},className:"btn btn-dark add-btn",onClick:async()=>{a(t+1)},children:"+ 🍽️"}),e.jsxs("div",{className:"btn-group float-right mb-3",role:"group",style:{...t===0&&{display:"none"}},children:[e.jsx("button",{className:"btn btn-dark",onClick:async()=>{a(t-1)},children:"-"}),e.jsx("div",{className:"btn btn-text",children:t}),e.jsx("button",{disabled:t>=10,className:"btn btn-dark",onClick:async()=>{a(t+1)},children:"+"})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("span",{style:{...t>0&&{display:"none"}},className:"text-secondary item-cost-big",children:`₹${s.cost}`}),e.jsx("span",{style:{...t===0&&{display:"none"}},className:"text-success item-cost-big",children:`₹${s.cost*t} `}),e.jsxs("span",{style:{...t===0&&{display:"none"}},className:"",children:["(",s.cost," x ",t,")"]})]})]})]})]})}function S({showSection:s,setShowSections:i}){const d=[{name:"Starters🍲",id:"starters"},{name:"Main Course🍛",id:"main-course"},{name:"Desserts🍨",id:"desserts"},{name:"Baverages☕",id:"baverage"}];return e.jsx(k,{title:"Sections",show:s,setShow:i,content:e.jsx("div",{className:"nav-buttons",children:d.map(({name:u,id:t},l)=>{const a=document.getElementById(`${t}`);return e.jsx("button",{className:"section-button",onClick:()=>{i(!1);const g=a.getBoundingClientRect().top+window.scrollY,r=-84;window.scrollTo({top:g+r,behavior:"smooth"})},children:u},l)})})})}export{V as default};

import{r as j,u as g,j as s,C as f,L as N}from"./index-df001e71.js";function b(){const[a,h]=j.useState(!1),i=g().state??!1;return s.jsx(f,{children:({cart:c,updateCart:x})=>{const r=c.map(({qnty:t})=>t).reduce((t,l)=>t+l,0);let n=0,m=50;c.map(({qnty:t,cost:l})=>{n+=t*l});let o=Math.floor(n*(18/100)),e=o+m+n;const d=10-e%10;return s.jsx(s.Fragment,{children:c.length===0?s.jsxs("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",padding:4,flexDirection:"column"},children:[s.jsx("p",{style:{fontWeight:400,fontSize:"3rem"},children:"Woah... Such empty...ðŸ½ï¸"}),s.jsx(N,{onClick:()=>window.scrollTo({top:0}),to:"/wok-of-fame/menu",className:"btn btn-lg btn-outline-danger",children:"Continue Cooking"})]}):s.jsxs("div",{className:"plate container bg-light",children:[s.jsxs("div",{className:"plate-count-div",children:[s.jsx("div",{className:"plate-count",children:r}),s.jsx("div",{children:`Item${r>1?"s":""} on the plate!ðŸ˜‹`})]}),s.jsxs("div",{className:"cart-items-list",children:[c.map((t,l)=>s.jsx(p,{item:t,updateCart:x},l)),s.jsx("hr",{className:"w-100"}),s.jsxs("div",{className:"additional-costs",children:[s.jsxs("div",{children:[s.jsx("div",{className:"subtotal-text",children:"Subtotal"}),s.jsxs("div",{className:"subtotal-cost",children:["â‚¹",n]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"gst-text",children:"GST"}),s.jsxs("div",{className:"gst-cost",children:[s.jsxs("span",{children:["â‚¹",o]}),s.jsx("span",{style:{fontSize:"small",color:"var(--red)"},children:Math.floor(n*(18/100))!==n*(18/100)&&s.jsxs("div",{children:["-",(n*(18/100)-Math.floor(n*(18/100))).toFixed(2)]})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"delivery-text",children:"Delivery Charges"}),s.jsxs("div",{className:"delivery-cost",children:["â‚¹",m]})]}),a&&s.jsxs("div",{children:[s.jsx("div",{className:"round-off-text",children:"Tip"}),s.jsxs("div",{className:"round-off-cost",children:[s.jsxs("span",{children:["â‚¹",d]}),s.jsx("button",{onClick:()=>h(!1),children:"âŒ"})]})]})]}),s.jsx("hr",{className:"w-100"}),s.jsxs("div",{className:"cart-total",children:[s.jsx("div",{className:"text-info",children:"Grand Total"}),s.jsxs("div",{children:["â‚¹",a?e+d:e]})]}),e%10!==0&&!a&&s.jsxs("div",{className:"round-off",children:[s.jsx("div",{children:"Tip our delivery guy with"}),s.jsx("button",{onClick:()=>{h(!0)},children:`â‚¹${Math.round(10-e%10)}`})]})]}),s.jsx(f,{children:({setTotalPayment:t})=>s.jsx("div",{className:"continue",children:s.jsx(N,{to:"/wok-of-fame/details",state:{reserve:i},className:"continue-button",onClick:()=>{window.scrollTo({top:0}),t(a?e+d:e)},children:"Continue"})})})]})})}})}function p({item:a,updateCart:h}){const{category:v,cost:i,details:c,img:x,name:r,qnty:n,rating:m,veg:o}=a,[e,d]=j.useState(n),[t,l]=j.useState(!0);return j.useEffect(()=>{t?l(!1):h({details:c,rating:m,veg:o,name:r,qnty:e,cost:i,category:v,img:x})},[e]),s.jsxs("div",{className:"cart-item",children:[s.jsxs("div",{className:"cart-item-left",children:[s.jsx("img",{className:"cart-item-img",src:`Images/Menu/${x}.jpg`,style:{width:350,borderTopLeftRadius:8,borderBottomLeftRadius:8},alt:""}),s.jsx("img",{src:`Images/${o?"Veg":"Non"}.png`,width:20,height:20,alt:""}),s.jsx("h3",{className:"item-name",children:r})]}),s.jsxs("div",{className:"cart-item-right",children:[s.jsxs("div",{className:"btn-group float-right mb-3",role:"group",style:{...e===0&&{display:"none"}},children:[s.jsx("button",{className:"btn btn-secondary",onClick:async()=>{d(u=>u-1)},children:"-"}),s.jsx("div",{className:"btn btn-text",children:e}),s.jsx("button",{disabled:e>=10,className:"btn btn-secondary",onClick:async()=>{d(u=>u+1)},children:"+"})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("span",{style:{...e>0&&{display:"none"}},className:"text-secondary h4",children:`â‚¹${i}`}),s.jsx("span",{style:{...e===0&&{display:"none"}},className:"text-success h4",children:`â‚¹${i*e} `}),s.jsxs("span",{style:{...e===0&&{display:"none"}},className:"",children:["(",i," x ",e,")"]})]})]})]})}export{b as default};

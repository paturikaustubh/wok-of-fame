import{r,a as x,u as j,j as e,C as h}from"./index-8981cfe9.js";import{D as v}from"./Dialog-692ca4e1.js";function g(){const{userDetails:n,setUserDetails:p}=r.useContext(x),[f,d]=r.useState(!1),[N,c]=r.useState(!1),[s,l]=r.useState({firstName:n.firstName??"",lastName:n.lastName??"",phNo:n.phNo>0?n.phNo:"",email:n.email??"",address:n.address??""}),m=j().state;return e.jsx(h,{children:({totalPayment:u})=>e.jsx(h,{children:({tableDetails:o})=>e.jsxs("div",{className:"container address bg-light",children:[e.jsxs("div",{className:"address-title",children:[e.jsx("span",{children:"Provide your details"}),e.jsx("button",{className:"save-data-button",onClick:()=>{d(!0),p(s)},disabled:s.firstName===""||s.firstName.length>25||s.lastName===""||s.lastName.length>25||s.phNo===""||s.phNo.length!==10||s.email===""||s.address==="",children:"Save Details"}),e.jsx(v,{title:"Details are saved",show:f,setShow:d,content:e.jsx("div",{className:"save-data-dialog",children:e.jsx("div",{style:{fontSize:"1.3em",fontWeight:500},children:"Thank you for becoming a member!"})}),actions:e.jsx("button",{className:"dialog-action-button blue",onClick:()=>{d(!1)},children:"Close"})})]}),e.jsx("div",{className:"thank-you-text",children:"Thank you for choosing us ❤️. We hope you love our food and we look forward to serve you again!"}),e.jsxs("form",{className:"details-form",onSubmit:a=>a.preventDefault(),children:[e.jsxs("div",{className:"grid-form-inputs",children:[e.jsx("input",{type:"text",className:"form-input",placeholder:"First Name",id:"first-name",value:s.firstName,onInput:({target:a})=>{l(i=>({...i,firstName:a.value}));const t=document.getElementById(a.id);a.value.length>25?t.classList.add("invalid"):t.classList.remove("invalid")}}),e.jsx("input",{type:"text",className:"form-input",placeholder:"Last Name",id:"last-name",value:s.lastName,onInput:({target:a})=>{l(i=>({...i,lastName:a.value}));const t=document.getElementById(a.id);a.value.length>25?t.classList.add("invalid"):t.classList.remove("invalid")}}),e.jsxs("div",{className:"ph-no",children:[e.jsx("div",{children:"+91"}),e.jsx("input",{type:"number",inputMode:"numeric",className:"form-input",placeholder:"Phone Number",id:"phno",min:0,max:9999999999,value:s.phNo,onInput:({target:a})=>{l(i=>({...i,phNo:a.value}));const t=document.getElementById(a.id);a.value.length>10||a.value.includes("+")||a.value.includes("-")||a.value.includes(".")||a.value.includes("e")?t.classList.add("invalid"):t.classList.remove("invalid")}})]}),e.jsx("input",{type:"email",className:"form-input",placeholder:"Email Address",id:"email",value:s.email,onInput:({target:a})=>l(t=>({...t,email:a.value}))}),e.jsx("textarea",{type:"text",className:"form-input text-area",placeholder:"Address",id:"address",value:s.address,onInput:({target:a})=>l(t=>({...t,address:a.value}))})]}),e.jsxs("div",{className:"form-buttons",children:[e.jsx("button",{type:"submit",className:"continue-button",onClick:()=>c(!0),disabled:s.firstName===""||s.firstName.length>25||s.lastName===""||s.lastName.length>25||s.phNo===""||s.phNo.length!==10||s.email===""||s.address==="",children:"Confirm Order"}),e.jsx(v,{title:m.reserve?"Saved a table for you!":"Cooking your order now!",show:N,setShow:c,content:e.jsx(e.Fragment,{children:m.reserve?e.jsxs("div",{children:["You can pay the amount of"," ",e.jsxs("span",{className:"text-info",children:["₹",m.reserve?u+200:u]})," ","upon arriving. For now, the table has been reserved for ",o.count," ",o.count>1?"people":"person"," ","at ",o.table," on"," ",Date(o.date),"."]}):e.jsxs("div",{children:["Our chef is on your order! You will recieve your order within 30min. Payment of"," ",e.jsxs("span",{className:"text-info",children:["₹",u]})," ","can be done by Cash on Delivery."]})})})]})]})]})})})}export{g as default};

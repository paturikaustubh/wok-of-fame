import{u as y,r,j as e,C as j,L as f}from"./index-6705c127.js";import{D as v}from"./Dialog-76768e5b.js";function L(){const c=y().state??!1,[m,g]=r.useState(""),[d,s]=r.useState([]),[x,t]=r.useState(!1),o=["Veg🥬","Non-Veg🥩"],h=l=>({target:u})=>{l(!0),d.includes(u.value)?(d.splice(d.indexOf(u.value),1),s(n=>[...n]),l(!1)):(s(n=>[...n,u.value]),l(!1))};return r.useEffect(()=>{document.addEventListener("keydown",l=>{l.code==="Escape"&&t(!1)})},[!1]),e.jsx(j,{children:({updateCart:l,menu:u,cart:n,setLoading:a,loading:b})=>e.jsxs("div",{className:"",children:[e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"container border mt-5 p-4 rounded bg-light",children:[e.jsxs("div",{className:"row align-items-center d-flex justify-content-between",children:[e.jsx("p",{className:"display-3 col-4 text-danger",style:{fontWeight:500},children:"Menu"}),c&&e.jsx(f,{to:"/wok-of-fame/reserve",className:"btn btn-danger btn-lg",onClick:()=>l({}),children:"Cancel"})]}),e.jsx("div",{className:"row align-items-baseline mt-2",children:e.jsx("input",{type:"search",placeholder:"Search items in Menu",className:"form-input",onInput:({target:i})=>g(i.value)})}),e.jsx("div",{style:{display:"flex",gap:12,marginTop:30},children:o.map((i,p)=>e.jsx("button",{onClick:h(a),value:i.toLowerCase().split("-").join(""),className:"filter-button",style:{backgroundColor:"transparent",borderRadius:4,borderWidth:"20px",borderColor:"black",...d.includes(i.toLowerCase().split("-").join(""))&&{backgroundColor:"lightgray",color:"black"},display:"flex",justifyContent:"center",alignItems:"center"},disabled:!0,children:i},p))}),e.jsx("hr",{}),e.jsx("div",{className:"mt-3",children:u.map((i,p)=>e.jsx(w,{cart:n,element:i,updateCart:l,searchValue:m,menu:u,filterArr:d},p))})]})}),e.jsxs("div",{style:{position:"sticky",bottom:50,right:50,left:50,display:"flex",justifyContent:"center",gap:"3em",zIndex:1,marginTop:10,marginBottom:30},children:[e.jsx("button",{className:"rounded-full rounded btn-lg btn-warning",style:{outline:"none"},id:"section-btton",onClick:()=>t(i=>!i),children:"Sections📃"}),c&&n.length>0&&e.jsx(f,{to:n.length>0?"/wok-of-fame/plate":"/wok-of-fame/details",className:"rounded-full rounded btn-lg btn btn-success",style:{outline:"none"},state:{reserve:!0},children:"Continue Reservation"})]}),e.jsx(k,{showSection:x,setShowSections:t})]})})}function w({element:c,updateCart:m,indx:g,cart:d,searchValue:s,menu:x,filterArr:t}){const{title:o,items:h}=c,[l,u]=r.useState([]);return r.useEffect(()=>{u(()=>h.filter(({name:n})=>n.toLowerCase().includes(s.toLowerCase())).filter(n=>{if(t.length===2||t.length===0||n.category==="baverage"||n.category==="dessert")return n;if(t.length===1)return t.includes("veg🥬")?n.veg:!n.veg}))},[s,t]),e.jsx(e.Fragment,{children:l.length>0?e.jsxs("div",{className:"bg-white pb-4 pb-2 mb-5",id:o.toLowerCase().split(" ").join("-").slice(0,-2),children:[e.jsx("p",{className:"font-weight-bold py-1 text-white px-4 rounded",style:{background:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(4px)",position:"sticky",top:85,zIndex:1,fontSize:"3rem"},children:o}),l.map((n,a)=>e.jsx(N,{element:n,updateCart:m,cart:d,menu:x,filterArr:t},a))]},g):e.jsxs("div",{className:"bg-white pb-4 pb-2 mb-5",style:{...l.length<=0&&{display:"none"}},children:[e.jsx("p",{className:"display-4 font-weight-bold py-1 text-white px-4 rounded",style:{background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)",position:"sticky",top:5,zIndex:1},children:o}),e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:4},children:"No result found"})]},g)})}function N({element:c,updateCart:m,cart:g,filterArr:d}){const[s,x]=r.useState({name:"",img:"",cost:0,details:"",category:"",rating:0,veg:!0}),[t,o]=r.useState(0),[h,l]=r.useState(!0),[u,n]=r.useState(!1);return r.useEffect(()=>{x(c),document.querySelectorAll(".blur-div").forEach(b=>{const i=b.querySelector("img");i.complete?n(!0):i.addEventListener("load",n(!0))})}),r.useEffect(()=>{h?(x(g.map(a=>{if(a.name===c.name)return o(a.qnty),a;o(0)})[0]??c),l(!1)):m({details:s.details,rating:s.rating,veg:s.veg,name:s.name,qnty:t,cost:s.cost,category:s.category,img:s.img})},[t]),e.jsxs("div",{className:"border border-top-0 border-right-0 border-left-0 py-4 px-4 d-flex flex-column flex-lg-row",children:[e.jsx("img",{loading:"lazy",src:s.img?`Images/Menu/${s.img}.jpg`:"",alt:s.name,style:{maxWidth:"20rem",aspectRatio:"16/9",transitionDuration:"200ms",objectFit:"cover",objectPosition:"center"}}),e.jsxs("div",{className:"d-flex flex-lg-row flex-column  align-items-start w-100 px-4 py-2",style:{justifyContent:"space-between"},children:[e.jsxs("div",{className:"d-flex flex-column",children:[e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:6,alignItems:"baseline"},children:[s.category!=="dessert"&&s.category!=="baverage"&&e.jsx("img",{src:s.veg?"Images/Veg.png":"Images/Non.png",alt:s.veg?"Veg":"Non-Veg",width:20,height:20}),e.jsx("p",{className:"h3",children:s.name})]}),e.jsxs("div",{className:"d-flex align-items-baseline",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 576 512",style:{fill:"#FAAF00"},children:e.jsx("path",{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"})}),e.jsx("span",{className:"ml-1 mb-2",children:s.rating})]}),e.jsx("p",{className:"font-weight-normal text-secondary w-100",children:s.details}),e.jsxs("h5",{className:"mt-4 font-weight-normal",children:["🧑🏻‍🦱 ",s.serves]})]}),e.jsxs("div",{style:{marginLeft:"auto"},children:[e.jsx("button",{style:{...t>0&&{display:"none"},width:"130px"},className:"btn btn-lg btn-dark",onClick:async()=>{o(a=>a+1)},children:"+ 🍽️"}),e.jsxs("div",{className:"btn-group float-right mb-3",role:"group",style:{...t===0&&{display:"none"}},children:[e.jsx("button",{className:"btn btn-lg btn-dark",onClick:async()=>{o(a=>a-1)},children:"-"}),e.jsx("div",{className:"btn btn-lg btn-text",children:t}),e.jsx("button",{disabled:t>=10,className:"btn btn-lg btn-dark",onClick:async()=>{o(a=>a+1)},children:"+"})]}),e.jsxs("div",{className:"mt-3",style:{minWidth:"130px"},children:[e.jsx("span",{style:{...t>0&&{display:"none"}},className:"text-secondary h4",children:`₹${s.cost}`}),e.jsx("span",{style:{...t===0&&{display:"none"}},className:"text-success h4",children:`₹${s.cost*t} `}),e.jsxs("span",{style:{...t===0&&{display:"none"}},className:"",children:["(",s.cost," x ",t,")"]})]})]})]})]})}function k({showSection:c,setShowSections:m}){const g=[{name:"Starters🍲",id:"starters"},{name:"Main Course🍛",id:"main-course"},{name:"Desserts🍨",id:"desserts"},{name:"Baverages☕",id:"baverage"}];return e.jsx(v,{title:"Sections",show:c,setShow:m,content:e.jsx("div",{className:"nav-buttons",children:g.map(({name:d,id:s},x)=>{const t=document.getElementById(`${s}`);return e.jsx("button",{className:"section-button",onClick:()=>{m(!1),t.scrollIntoView({behavior:"smooth"})},children:d},x)})})})}export{L as default};

import{r as m,u as b,j as e,C as N,L as y,a as C}from"./index-02c273f6.js";function S(){const[r,u]=m.useState(!1),l=b().state??!1;return m.useEffect(()=>window.scrollTo({top:0}),[!1]),e.jsx(N,{children:({cart:o,updateCart:h,setTotalPayment:d})=>{const f=o.map(({qnty:t})=>t).reduce((t,n)=>t+n,0);let a=0;const x=50,g=150;o.map(({qnty:t,cost:n})=>{a+=t*n});let s=Math.floor(a*(18/100)),i=s+a+(l?g:x);const c=10-i%10;return e.jsx(e.Fragment,{children:o.length===0?e.jsxs("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[e.jsx("p",{className:"such-empty",children:"Woah... Such empty...ðŸ½ï¸"}),e.jsx(y,{onClick:()=>window.scrollTo({top:0}),to:"/wok-of-fame/menu",className:"btn btn-lg btn-outline-danger",children:"Continue Cooking"})]}):e.jsxs("div",{className:"plate container bg-light border",children:[e.jsxs("div",{className:"plate-count-div",children:[e.jsx("div",{className:"plate-count",children:f}),e.jsx("div",{children:`Item${f>1?"s":""} on the plate!ðŸ˜‹`})]}),e.jsxs("div",{className:"cart-items-list",children:[o.sort((t,n)=>t.category-n.category).sort((t,n)=>n.veg-t.veg).map((t,n)=>e.jsx(k,{item:t,updateCart:h},n)),e.jsx("hr",{className:"w-100"}),e.jsxs("div",{className:"additional-costs",children:[e.jsxs("div",{children:[e.jsx("div",{className:"subtotal-text",children:"Subtotal"}),e.jsxs("div",{className:"subtotal-cost",children:["â‚¹",a]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"gst-text",children:"GST"}),e.jsxs("div",{className:"gst-cost",children:[e.jsxs("span",{children:["â‚¹",s]}),e.jsx("span",{style:{fontSize:"small",color:"var(--red)"},children:Math.floor(a*(18/100))!==a*(18/100)&&e.jsxs("div",{children:["-",(a*(18/100)-Math.floor(a*(18/100))).toFixed(2)]})})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"delivery-text",children:l?"Reservation Charges":"Delivery Charges"}),e.jsxs("div",{className:"delivery-cost",children:["â‚¹",l?g:x]})]}),r&&e.jsxs("div",{children:[e.jsx("div",{className:"round-off-text",children:"Tip"}),e.jsxs("div",{className:"round-off-cost",children:[e.jsxs("span",{children:["â‚¹",c]}),e.jsx("button",{onClick:()=>u(!1),children:"âŒ"})]})]})]}),e.jsx("hr",{className:"w-100"}),e.jsxs("div",{className:"cart-total",children:[e.jsx("div",{className:"text-info",children:"Grand Total"}),e.jsxs("div",{children:["â‚¹",r?i+c:i]})]}),i%10!==0&&!r&&!l&&e.jsxs("div",{className:"round-off",children:[e.jsx("div",{children:"Tip our delivery guy with"}),e.jsx("button",{onClick:()=>{u(!0)},children:`â‚¹${Math.round(10-i%10)}`})]})]}),e.jsx("div",{className:"continue",children:e.jsx(y,{to:"/wok-of-fame/checkout",state:{reserve:l},className:"continue-button",onClick:()=>{d(r?i+c:i)},style:{marginLeft:"auto"},children:"Continue"})})]})})}})}function k({item:r,updateCart:u}){const{category:j,cost:l,details:o,img:h,name:d,qnty:f,rating:a,veg:x}=r,{cart:g}=m.useContext(C);let s=g.filter(v=>{var p;if((p=v.name)!=null&&p.includes(d))return v.qnty??0})[0];s=s?s.qnty:0;const[i,c]=m.useState(s),[t,n]=m.useState(!0);return m.useEffect(()=>{t?n(!1):u({details:o,rating:a,veg:x,name:d,qnty:i,cost:l,category:j,img:h})},[i]),e.jsxs("div",{className:"border border-top-0 border-right-0 border-left-0 py-lg-4 py-2 px-3 d-flex flex-column flex-lg-row",children:[e.jsx("img",{loading:"lazy",src:h?`Images/Menu/${h}.jpg`:"",alt:d,style:{maxWidth:"20rem",aspectRatio:"16/9",transitionDuration:"200ms",objectFit:"cover",objectPosition:"center"}}),e.jsxs("div",{className:"d-flex flex-lg-row flex-column align-items-start w-100 px-lg-4 px-2 pt-2",style:{justifyContent:"space-between"},children:[e.jsx("div",{className:"d-flex flex-column",style:{gap:"0.6em"},children:e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:6,alignItems:"center"},children:[j!=="dessert"&&j!=="baverage"&&e.jsx("img",{src:x?"Images/Veg.png":"Images/Non.png",alt:x?"Veg":"Non-Veg",width:20,height:20}),e.jsx("p",{className:"item-name",children:d})]})}),e.jsxs("div",{style:{marginLeft:"auto"},children:[e.jsx("button",{style:{...s>0&&{display:"none"}},className:"btn btn-dark add-btn",onClick:async()=>{c(s+1)},children:"+ ðŸ½ï¸"}),e.jsxs("div",{className:"btn-group float-right mb-3",role:"group",style:{...s===0&&{display:"none"}},children:[e.jsx("button",{className:"btn btn-dark",onClick:async()=>{c(s-1)},children:"-"}),e.jsx("div",{className:"btn btn-text",children:s}),e.jsx("button",{disabled:s>=10,className:"btn btn-dark",onClick:async()=>{c(s+1)},children:"+"})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("span",{style:{...s>0&&{display:"none"}},className:"text-secondary item-cost-big",children:`â‚¹${l}`}),e.jsx("span",{style:{...s===0&&{display:"none"}},className:"text-success item-cost-big",children:`â‚¹${l*s} `}),e.jsxs("span",{style:{...s===0&&{display:"none"}},className:"",children:["(",l," x ",s,")"]})]})]})]})]})}export{S as default};

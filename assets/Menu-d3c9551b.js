import{r as a,a as y,u as w,j as e,C as v,L as f}from"./index-8c01b1dd.js";import{D as N}from"./Dialog-8bdbb444.js";function M(){const{menu:s,cart:l}=a.useContext(y),r=w().state??!1,[c,t]=a.useState(s),[o,i]=a.useState(""),[m,d]=a.useState(!1);return a.useState(!1),a.useEffect(()=>window.scrollTo({top:0}),[!1]),a.useEffect(()=>{document.addEventListener("keydown",n=>{n.code==="Escape"&&d(!1)})},[!1]),a.useEffect(()=>{s.map(n=>{})},[o]),e.jsx(v,{children:({updateCart:n,cart:x,setLoading:S,loading:L})=>e.jsxs(a.Fragment,{children:[e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"container border mt-5 p-lg-4 p-1 rounded bg-light",children:[e.jsxs("div",{className:"row align-items-center d-flex justify-content-between",children:[e.jsx("p",{className:"display-3 col-4 text-danger",style:{fontWeight:500},children:"Menu"}),r&&e.jsx(f,{to:"/wok-of-fame/reserve",className:"btn btn-danger btn-lg",onClick:()=>{n({}),window.scrollTo({top:0})},children:"Cancel"})]}),e.jsx("input",{type:"search",placeholder:"Search items in Menu",className:"form-input w-100",onInput:({target:u})=>i(u.value)}),e.jsx("div",{style:{display:"flex",gap:12,marginTop:30}}),e.jsx("hr",{}),e.jsx("div",{className:"mt-3",children:c.map((u,j)=>{const{title:p,items:h}=u;return e.jsxs("div",{style:{marginBottom:"3rem"},id:p.toLowerCase().slice(0,-2).split(" ").join(""),children:[e.jsx("div",{className:"py-1 text-white px-4 rounded menu-item-title",style:{background:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(4px)",position:"sticky",zIndex:1,color:"white",fontWeight:500,...h.length===0&&{display:"none"}},children:p}),h.filter(({name:g})=>g.toLowerCase().includes(o.toLowerCase())).map((g,b)=>e.jsx(C,{element:g,searchValue:o},b))]},j)})})]})}),e.jsxs("div",{style:{position:"sticky",bottom:50,display:"flex",justifyContent:"center",gap:"3em",zIndex:1,marginTop:10,marginBottom:30},children:[e.jsx("button",{className:"rounded-full rounded btn-warning",style:{outline:"none"},id:"section-btn",onClick:()=>d(u=>!u),children:"SectionsðŸ“ƒ"}),r&&x.length>0&&e.jsx(f,{onClick:()=>window.scrollTo({top:0}),to:x.length>0?"/wok-of-fame/plate":"/wok-of-fame/details",className:"rounded-full rounded btn-lg btn btn-success",style:{outline:"none"},state:{reserve:!0},children:"Continue Reservation"})]}),e.jsx(k,{showSection:m,setShowSections:d})]})})}function C({element:s,searchValue:l}){const{cart:r,updateCart:c}=a.useContext(y);let t=r.filter(n=>{if(n.name.includes(s.name))return n.qnty})[0];t=t?t.qnty:0,console.log(t,s.name,"cart count");const[o,i]=a.useState(t),[m,d]=a.useState(!0);return a.useEffect(()=>{console.log("rendered",t,s.name),i(t)},[!1]),a.useEffect(()=>{console.log("rendered-count",s.name),m?d(!1):c({details:s.details,rating:s.rating,veg:s.veg,name:s.name,qnty:o,cost:s.cost,category:s.category,img:s.img})},[o]),e.jsxs("div",{className:"border border-top-0 border-right-0 border-left-0 py-lg-4 py-2 px-3 d-flex flex-column flex-lg-row",style:{...l.length>0&&s.name!==l&&{display:"none"}},children:[e.jsx("img",{loading:"lazy",src:s.img?`Images/Menu/${s.img}.jpg`:"",alt:s.name,style:{maxWidth:"20rem",aspectRatio:"16/9",transitionDuration:"200ms",objectFit:"cover",objectPosition:"center"}}),e.jsxs("div",{className:"d-flex flex-lg-row flex-column align-items-start w-100 px-lg-4 px-2 pt-2",style:{justifyContent:"space-between"},children:[e.jsxs("div",{className:"d-flex flex-column",style:{gap:"0.6em"},children:[e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:6,alignItems:"center"},children:[s.category!=="dessert"&&s.category!=="baverage"&&e.jsx("img",{src:s.veg?"Images/Veg.png":"Images/Non.png",alt:s.veg?"Veg":"Non-Veg",width:20,height:20}),e.jsx("p",{className:"item-name",children:s.name})]}),e.jsxs("div",{className:"d-flex align-items-baseline",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 576 512",style:{fill:"#FAAF00"},children:e.jsx("path",{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"})}),e.jsx("span",{children:s.rating})]}),e.jsx("p",{className:"font-weight-normal text-secondary w-100 item-desc",children:s.details}),e.jsxs("h5",{className:"font-weight-normal item-serves",children:["ðŸ§‘ðŸ»â€ðŸ¦± ",s.serves]})]}),e.jsxs("div",{style:{marginLeft:"auto"},children:[e.jsx("button",{style:{...t>0&&{display:"none"}},className:"btn btn-dark add-btn",onClick:async()=>{i(n=>n+1)},children:"+ ðŸ½ï¸"}),e.jsxs("div",{className:"btn-group float-right mb-3",role:"group",style:{...t===0&&{display:"none"}},children:[e.jsx("button",{className:"btn btn-dark",onClick:async()=>{i(n=>(console.log(n,s.name,"sub"),n-1))},children:"-"}),e.jsx("div",{className:"btn btn-text",children:t}),e.jsx("button",{disabled:t>=10,className:"btn btn-dark",onClick:async()=>{i(n=>(console.log(n,s.name,"add"),n+1))},children:"+"})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("span",{style:{...t>0&&{display:"none"}},className:"text-secondary item-cost-big",children:`â‚¹${s.cost}`}),e.jsx("span",{style:{...t===0&&{display:"none"}},className:"text-success item-cost-big",children:`â‚¹${s.cost*t} `}),e.jsxs("span",{style:{...t===0&&{display:"none"}},className:"",children:["(",s.cost," x ",t,")"]})]})]})]})]})}function k({showSection:s,setShowSections:l}){const r=[{name:"StartersðŸ²",id:"starters"},{name:"Main CourseðŸ›",id:"main-course"},{name:"DessertsðŸ¨",id:"desserts"},{name:"Baveragesâ˜•",id:"baverage"}];return e.jsx(N,{title:"Sections",show:s,setShow:l,content:e.jsx("div",{className:"nav-buttons",children:r.map(({name:c,id:t},o)=>{const i=document.getElementById(`${t}`);return e.jsx("button",{className:"section-button",onClick:()=>{l(!1),i.scrollIntoView({behavior:"smooth"})},children:c},o)})})})}export{M as default};

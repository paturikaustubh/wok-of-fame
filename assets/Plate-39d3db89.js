import{r as x,u as v,j as e,C as g,L as p}from"./index-8c01b1dd.js";function N(){const[i,j]=x.useState(!1),c=v().state??!1;return x.useEffect(()=>window.scrollTo({top:0}),[!1]),e.jsx(g,{children:({cart:o,updateCart:m})=>{const r=o.map(({qnty:t})=>t).reduce((t,n)=>t+n,0);let s=0,f=50;o.map(({qnty:t,cost:n})=>{s+=t*n});let d=Math.floor(s*(18/100)),l=d+f+s;const a=10-l%10;return e.jsx(e.Fragment,{children:o.length===0?e.jsxs("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",padding:4,flexDirection:"column"},children:[e.jsx("p",{style:{fontWeight:400,fontSize:"3rem"},children:"Woah... Such empty...🍽️"}),e.jsx(p,{onClick:()=>window.scrollTo({top:0}),to:"/wok-of-fame/menu",className:"btn btn-lg btn-outline-danger",children:"Continue Cooking"})]}):e.jsxs("div",{className:"plate container bg-light",children:[e.jsxs("div",{className:"plate-count-div",children:[e.jsx("div",{className:"plate-count",children:r}),e.jsx("div",{children:`Item${r>1?"s":""} on the plate!😋`})]}),e.jsxs("div",{className:"cart-items-list",children:[o.sort((t,n)=>t.category-n.category).map((t,n)=>e.jsx(y,{item:t,updateCart:m},n)),e.jsx("hr",{className:"w-100"}),e.jsxs("div",{className:"additional-costs",children:[e.jsxs("div",{children:[e.jsx("div",{className:"subtotal-text",children:"Subtotal"}),e.jsxs("div",{className:"subtotal-cost",children:["₹",s]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"gst-text",children:"GST"}),e.jsxs("div",{className:"gst-cost",children:[e.jsxs("span",{children:["₹",d]}),e.jsx("span",{style:{fontSize:"small",color:"var(--red)"},children:Math.floor(s*(18/100))!==s*(18/100)&&e.jsxs("div",{children:["-",(s*(18/100)-Math.floor(s*(18/100))).toFixed(2)]})})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"delivery-text",children:"Delivery Charges"}),e.jsxs("div",{className:"delivery-cost",children:["₹",f]})]}),i&&e.jsxs("div",{children:[e.jsx("div",{className:"round-off-text",children:"Tip"}),e.jsxs("div",{className:"round-off-cost",children:[e.jsxs("span",{children:["₹",a]}),e.jsx("button",{onClick:()=>j(!1),children:"❌"})]})]})]}),e.jsx("hr",{className:"w-100"}),e.jsxs("div",{className:"cart-total",children:[e.jsx("div",{className:"text-info",children:"Grand Total"}),e.jsxs("div",{children:["₹",i?l+a:l]})]}),l%10!==0&&!i&&e.jsxs("div",{className:"round-off",children:[e.jsx("div",{children:"Tip our delivery guy with"}),e.jsx("button",{onClick:()=>{j(!0)},children:`₹${Math.round(10-l%10)}`})]})]}),e.jsx(g,{children:({setTotalPayment:t})=>e.jsx("div",{className:"continue",children:e.jsx(p,{to:"/wok-of-fame/details",state:{reserve:c},className:"continue-button",onClick:()=>{window.scrollTo({top:0}),t(i?l+a:l)},children:"Continue"})})})]})})}})}function y({item:i,updateCart:j}){const{category:u,cost:c,details:o,img:m,name:r,qnty:s,rating:f,veg:d}=i,[l,a]=x.useState(s),[t,n]=x.useState(!0);return x.useEffect(()=>{a(s)},[!1]),x.useEffect(()=>{t?n(!1):j({details:o,rating:f,veg:d,name:r,qnty:l,cost:c,category:u,img:m})},[l]),e.jsxs("div",{className:"border border-top-0 border-right-0 border-left-0 py-lg-4 py-2 px-3 d-flex flex-column flex-lg-row",children:[e.jsx("img",{loading:"lazy",src:m?`Images/Menu/${m}.jpg`:"",alt:r,style:{maxWidth:"20rem",aspectRatio:"16/9",transitionDuration:"200ms",objectFit:"cover",objectPosition:"center"}}),e.jsxs("div",{className:"d-flex flex-lg-row flex-column align-items-start w-100 px-lg-4 px-2 pt-2",style:{justifyContent:"space-between"},children:[e.jsx("div",{className:"d-flex flex-column",style:{gap:"0.6em"},children:e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:6,alignItems:"center"},children:[u!=="dessert"&&u!=="baverage"&&e.jsx("img",{src:d?"Images/Veg.png":"Images/Non.png",alt:d?"Veg":"Non-Veg",width:20,height:20}),e.jsx("p",{className:"item-name",children:r})]})}),e.jsxs("div",{style:{marginLeft:"auto"},children:[e.jsx("button",{style:{...s>0&&{display:"none"}},className:"btn btn-dark add-btn",onClick:async()=>{a(h=>h+1)},children:"+ 🍽️"}),e.jsxs("div",{className:"btn-group float-right mb-3",role:"group",style:{...s===0&&{display:"none"}},children:[e.jsx("button",{className:"btn btn-dark",onClick:async()=>{a(h=>h-1)},children:"-"}),e.jsx("div",{className:"btn btn-text",children:s}),e.jsx("button",{disabled:s>=10,className:"btn btn-dark",onClick:async()=>{a(h=>h+1)},children:"+"})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("span",{style:{...s>0&&{display:"none"}},className:"text-secondary item-cost-big",children:`₹${c}`}),e.jsx("span",{style:{...s===0&&{display:"none"}},className:"text-success item-cost-big",children:`₹${c*s} `}),e.jsxs("span",{style:{...s===0&&{display:"none"}},className:"",children:["(",c," x ",s,")"]})]})]})]})]})}export{N as default};
